name: 'Generar Documentación OpenAPI'

on:
  push:
    branches:
      - main

jobs:
  generate-docs:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout del código
        uses: actions/checkout@v2

      - name: Generar documentación OpenAPI desde URL
        uses: diegoara96/openapi-generator-action@v0.1.4-alpha
        with:
          url: 'https://petstore.swagger.io/v2/swagger.json'
          output-dir: './generated-docs'
          generator: 'html2'
      - name: Upload OpenApi documentation
        uses: actions/upload-artifact@v4
        with:
          name: fhaas_api_spec.html
          path: generated-docs/index.html
